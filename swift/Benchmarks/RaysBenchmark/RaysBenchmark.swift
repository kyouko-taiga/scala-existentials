// Benchmark boilerplate generated by Benchmark

import Benchmark
import Foundation
import Rays

let benchmarks = {
  let sizes = [100,1000]
  let config = Benchmark.Configuration(
      metrics: [BenchmarkMetric.throughput],
      warmupIterations: 5,
      maxDuration: .seconds(1),
      maxIterations: 15
  )
  sizes.forEach { size in
    Benchmark("run(size:\(size))", configuration: config) { benchmark in
      for _ in benchmark.scaledIterations {
        blackHole(Rays.run(size: size))
      }
    }
  }
}
